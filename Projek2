-- ===== LOAD WIND UI =====
local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

local Window = WindUI:CreateWindow({
    Title = "Zyqrin Hub",
    Icon = "fish",
    Author = "by Wisnu",
})

local Tab = Window:Tab({
    Title = "Main",
    Icon = "bird",
    Locked = false,
})

-- ===== VARIABLES =====
local RS = game:GetService("ReplicatedStorage")
local Net = RS.Packages._Index["sleitnick_net@0.2.0"].net

local AutoFishing = false
local PullDelay = 0.5
local ResetDelay = .0

-- ===== INPUT BOXES =====
local PullInput = Tab:Input({
    Title = "Pull Delay (Bite Time)",
    Desc = "Delay sebelum fish ditarik",
    Value = tostring(PullDelay),
    InputIcon = "clock",
    Type = "Input",
    Placeholder = "0.5",
    Callback = function(input)
        PullDelay = tonumber(input) or PullDelay
    end
})

local ResetInput = Tab:Input({
    Title = "Reset Delay (Server Reset)",
    Desc = "Delay sebelum fishing berikutnya",
    Value = tostring(ResetDelay),
    InputIcon = "clock",
    Type = "Input",
    Placeholder = "0.3",
    Callback = function(input)
        ResetDelay = tonumber(input) or ResetDelay
    end
})

-- ===== TOGGLE AUTO FISHING =====
local Toggle = Tab:Toggle({
    Title = "Auto Fishing",
    Desc = "Toggle ON/OFF Auto Fishing",
    Icon = "fish",
    Type = "Checkbox",
    Value = false,
    Callback = function(state)
        AutoFishing = state
        if AutoFishing then
            print("Auto Fishing Activated")
            task.spawn(function()
                while AutoFishing do
                    pcall(function()
                        -- CAST
                        Net["RF/ChargeFishingRod"]:InvokeServer(os.clock())

                        -- START MINIGAME
                        Net["RF/RequestFishingMinigameStarted"]:InvokeServer(-1, 0.5, os.clock())

                        -- TUNGGU IKAN
                        task.wait(PullDelay)

                        -- COMPLETE
                        Net["RE/FishingCompleted"]:FireServer()

                        -- RESET SERVER
                        task.wait(ResetDelay)
                    end)
                    task.wait()
                end
            end)
        else
            print("Auto Fishing Deactivated")
        end
    end
})
